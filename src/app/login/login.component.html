<div *ngIf="isLoggedIn; else loggedOut">
  Logged in as {{roles}}.
</div>

<ng-template #loggedOut  >
  <div  style="max-width:500px;margin: 200px  auto">

    <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
      <div  *ngIf="x==true" >
        <alert type="success" dismissOnTimeout="5000">
          <strong>Le nouveau mot de passe a été envoyé à votre adresse email</strong>
        </alert>
      </div>
      <div  class="form-group">
        <label for="username">Nom d'utilisateur</label>
        <input type="text" class="form-control" name="username" [(ngModel)]="form.username" #username="ngModel"
               required />
        <div *ngIf="test==true" class="mp">Nom d'utilisateur est obligatoire</div>
        <div *ngIf="f.submitted && username.invalid">
          <div *ngIf="username.errors.required">Nom d'utilisateur est obligatoire</div>
        </div>
      </div>
      <div class="form-group">
        <label for="password">Mot de passe</label>
        <input type="password" class="form-control" name="password" [(ngModel)]="form.password" #password="ngModel"
               required minlength="6" />
        <div *ngIf="f.submitted && password.invalid">
          <div *ngIf="password.errors.required">Mot de passe est obligatoire</div>
          <div *ngIf="password.errors.minlength">Le mot de passe doit être au moins de 6 caractères</div>
        </div>
      </div>
      <div class="form-group">
        <button class="btn btn-primary">S'identifier</button>
        <br>
        <a  (click)="send(form.username,contentdelet)" class="edit" >Mot de passe oublié?</a>
        <div *ngIf="f.submitted && isLoginFailed" class="alert alert-danger">
          Échec de la connexion: {{errorMessage}}
        </div>
      </div>
    </form>
    <hr />


    <label>Vous n'avez pas de compte?</label>

      <a href="signup" class="btn btn-success">Inscrivez-vous</a>


  </div>
</ng-template>
